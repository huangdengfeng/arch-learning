# 错误码设计

错误码的制定原则：快速溯源、简单易记、沟通标准化。

## 错误码结构

错误码为了方便常见RPC协议传递采用数值类型定义。

错误码 = 模块编号(4) + 错误类型(1) + 错误编号(3).

- 模块编号：根据模块生成，方便快速识别是哪个模块产生的错误。
- 错误类型：区分系统错误和业务错误，系统错误通常表示可能重试可以解决。业务错误通常用1表示，系统错误用2表示。
- 错误编号：标明具体的错误。

例子：10001001

| 模块编号 | 类型  | 编号  |
|------|-----|-----|
| 1000 | 1   | 001 |

针对外部api仅需后4位即可。

## 错误码系统设计

一个大型分布式系统需要统一管理错误。

- 错误码登记
- 错误码转义
- 错误码对应错误信息i18n支持

